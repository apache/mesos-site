<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Apache Mesos: include/mesos/zookeeper/group.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Apache Mesos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_a00cdca4cac44d29e96ac7c7cae2bc86.html">mesos</a></li><li class="navelem"><a class="el" href="dir_c17ba5dacf03ff8b8f3824850be465e6.html">zookeeper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">group.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="group_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Licensed to the Apache Software Foundation (ASF) under one</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// or more contributor license agreements.  See the NOTICE file</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// distributed with this work for additional information</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// regarding copyright ownership.  The ASF licenses this file</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// to you under the Apache License, Version 2.0 (the</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// &quot;License&quot;); you may not use this file except in compliance</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// with the License.  You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//     http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// limitations under the License</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#ifndef __MESOS_ZOOKEEPER_GROUP_HPP__</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define __MESOS_ZOOKEEPER_GROUP_HPP__</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="zookeeper_2authentication_8hpp.html">mesos/zookeeper/authentication.hpp</a>&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="url_8hpp.html">mesos/zookeeper/url.hpp</a>&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="future_8hpp.html">process/future.hpp</a>&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="libprocess_2include_2process_2process_8hpp.html">process/process.hpp</a>&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="timer_8hpp.html">process/timer.hpp</a>&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="stout_2include_2stout_2check_8hpp.html">stout/check.hpp</a>&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="duration_8hpp.html">stout/duration.hpp</a>&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="none_8hpp.html">stout/none.hpp</a>&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="option_8hpp.html">stout/option.hpp</a>&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="try_8hpp.html">stout/try.hpp</a>&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// Forward declarations.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">class </span><a class="code" href="classWatcher.html">Watcher</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">class </span><a class="code" href="classZooKeeper.html">ZooKeeper</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">namespace </span>zookeeper {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// Forward declaration.</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">class </span>GroupProcess;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// Represents a distributed group managed by ZooKeeper. A group is</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// associated with a specific ZooKeeper path, and members are</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// represented by ephemeral sequential nodes.</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classzookeeper_1_1Group.html">   49</a></span>&#160;<span class="keyword">class </span><a class="code" href="classzookeeper_1_1Group.html">Group</a></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="comment">// Represents a group membership. Note that we order memberships by</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="comment">// membership id (that is, an older membership is ordered before a</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="comment">// younger membership). In addition, we do not use the &quot;cancelled&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="comment">// future to compare memberships so that two memberships created</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">// from different Group instances will still be considered the same.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="structzookeeper_1_1Group_1_1Membership.html">   57</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Membership</a></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  {</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structzookeeper_1_1Group_1_1Membership.html#a50e932465a1c4e2c9d2723cb0ac72b6c">   59</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html#a50e932465a1c4e2c9d2723cb0ac72b6c">operator==</a>(<span class="keyword">const</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Membership</a>&amp; that)<span class="keyword"> const</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keywordflow">return</span> sequence == that.sequence;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structzookeeper_1_1Group_1_1Membership.html#a0ff067f816f906e16e1d30db4919bdbc">   64</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html#a0ff067f816f906e16e1d30db4919bdbc">operator!=</a>(<span class="keyword">const</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Membership</a>&amp; that)<span class="keyword"> const</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keywordflow">return</span> sequence != that.sequence;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structzookeeper_1_1Group_1_1Membership.html#aeec550d499633821dc549800458eb6d8">   69</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html#aeec550d499633821dc549800458eb6d8">operator&lt;</a>(<span class="keyword">const</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Membership</a>&amp; that)<span class="keyword"> const</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <span class="keywordflow">return</span> sequence &lt; that.sequence;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structzookeeper_1_1Group_1_1Membership.html#ace337def95a18a79233725fe776197a4">   74</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html#ace337def95a18a79233725fe776197a4">operator&lt;=</a>(<span class="keyword">const</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Membership</a>&amp; that)<span class="keyword"> const</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <span class="keywordflow">return</span> sequence &lt;= that.sequence;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structzookeeper_1_1Group_1_1Membership.html#aeedb1ae964ce69d27ccc9cbf2519b7c1">   79</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html#aeedb1ae964ce69d27ccc9cbf2519b7c1">operator&gt;</a>(<span class="keyword">const</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Membership</a>&amp; that)<span class="keyword"> const</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="keywordflow">return</span> sequence &gt; that.sequence;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="structzookeeper_1_1Group_1_1Membership.html#a1ce418ac66b66440664e66b8448cd9c7">   84</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html#a1ce418ac66b66440664e66b8448cd9c7">operator&gt;=</a>(<span class="keyword">const</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Membership</a>&amp; that)<span class="keyword"> const</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <span class="keywordflow">return</span> sequence &gt;= that.sequence;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structzookeeper_1_1Group_1_1Membership.html#a1c1e801f64026809b38e714fc7b45cd4">   89</a></span>&#160;    int32_t <a class="code" href="structzookeeper_1_1Group_1_1Membership.html#a1c1e801f64026809b38e714fc7b45cd4">id</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keywordflow">return</span> sequence;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structzookeeper_1_1Group_1_1Membership.html#af9b5e602262ba15e8f319d66f81b0d8b">   94</a></span>&#160;    <a class="code" href="classOption.html">Option&lt;std::string&gt;</a> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html#af9b5e602262ba15e8f319d66f81b0d8b">label</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="keywordflow">return</span> label_;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// Returns a future that is only satisfied once this membership</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// has been cancelled. In which case, the value of the future is</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// true if you own this membership and cancelled it by invoking</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// Group::cancel. Otherwise, the value of the future is false (and</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// could signify cancellation due to a session expiration or</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// operator error).</span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structzookeeper_1_1Group_1_1Membership.html#a97155fd8cbcac980f1aae3124eb6c01a">  105</a></span>&#160;    <a class="code" href="classprocess_1_1Future.html">process::Future&lt;bool&gt;</a> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html#a97155fd8cbcac980f1aae3124eb6c01a">cancelled</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordflow">return</span> cancelled_;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structzookeeper_1_1Group_1_1Membership.html#af98627d242b828f8f25413b5f1504aa2">  111</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classzookeeper_1_1GroupProcess.html">GroupProcess</a>; <span class="comment">// Creates and manages memberships.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Membership</a>(int32_t _sequence,</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;               <span class="keyword">const</span> <a class="code" href="classOption.html">Option&lt;std::string&gt;</a>&amp; _label,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;               <span class="keyword">const</span> <a class="code" href="classprocess_1_1Future.html">process::Future&lt;bool&gt;</a>&amp; <a class="code" href="structzookeeper_1_1Group_1_1Membership.html#a97155fd8cbcac980f1aae3124eb6c01a">cancelled</a>)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      : sequence(_sequence), label_(_label), cancelled_(cancelled) {}</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keyword">const</span> int32_t sequence;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">const</span> <a class="code" href="classOption.html">Option&lt;std::string&gt;</a> label_;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="classprocess_1_1Future.html">process::Future&lt;bool&gt;</a> cancelled_;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  };</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">// Constructs this group using the specified ZooKeeper servers (list</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">// of host:port) with the given session timeout at the specified znode.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="classzookeeper_1_1Group.html#a9c43b1e1dbd2a41f25ed5e14bd327135">Group</a>(<span class="keyword">const</span> std::string&amp; servers,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keyword">const</span> <a class="code" href="classDuration.html">Duration</a>&amp; sessionTimeout,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keyword">const</span> std::string&amp; znode,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keyword">const</span> <a class="code" href="classOption.html">Option&lt;Authentication&gt;</a>&amp; auth = <a class="code" href="structNone.html">None</a>());</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="classzookeeper_1_1Group.html#a9c43b1e1dbd2a41f25ed5e14bd327135">Group</a>(<span class="keyword">const</span> <a class="code" href="classzookeeper_1_1URL.html">URL</a>&amp; url,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keyword">const</span> <a class="code" href="classDuration.html">Duration</a>&amp; sessionTimeout);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="classzookeeper_1_1Group.html#aba2b2160871d4b7d9c2f9cfa6be0d642">~Group</a>();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// Returns the result of trying to join a &quot;group&quot; in ZooKeeper.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// If &quot;label&quot; is provided the newly created znode contains &quot;label_&quot;</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// as the prefix. If join is successful, an &quot;owned&quot; membership will</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// be returned whose retrievable data will be a copy of the</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// specified parameter. A membership is not &quot;renewed&quot; in the event</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// of a ZooKeeper session expiration. Instead, a client should watch</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// the group memberships and rejoin the group as appropriate.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="classprocess_1_1Future.html">process::Future&lt;Membership&gt;</a> <a class="code" href="classzookeeper_1_1Group.html#a056d4a08bebe4bb4c9cbdf3970b7cbdf">join</a>(</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keyword">const</span> std::string&amp; <a class="code" href="classzookeeper_1_1Group.html#a58b554313e9e068a6260dc1ee8b76812">data</a>,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keyword">const</span> <a class="code" href="classOption.html">Option&lt;std::string&gt;</a>&amp; label = <a class="code" href="structNone.html">None</a>());</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">// Returns the result of trying to cancel a membership. Note that</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// only memberships that are &quot;owned&quot; (see join) can be canceled.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="classprocess_1_1Future.html">process::Future&lt;bool&gt;</a> <a class="code" href="classzookeeper_1_1Group.html#a1687108d5d27dda12627018f7d6356bd">cancel</a>(<span class="keyword">const</span> Membership&amp; membership);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// Returns the result of trying to fetch the data associated with a</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// group membership.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// A None is returned if the specified membership doesn&#39;t exist,</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// e.g., it can be removed before this call can read it content.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="classprocess_1_1Future.html">process::Future&lt;Option&lt;std::string&gt;</a>&gt; <a class="code" href="classzookeeper_1_1Group.html#a58b554313e9e068a6260dc1ee8b76812">data</a>(<span class="keyword">const</span> Membership&amp; membership);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// Returns a future that gets set when the group memberships differ</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// from the &quot;expected&quot; memberships specified.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="classprocess_1_1Future.html">process::Future&lt;std::set&lt;Membership&gt;</a>&gt; <a class="code" href="classzookeeper_1_1Group.html#ad3cb007d4a106239aa16691b056f7a93">watch</a>(</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keyword">const</span> std::set&lt;Membership&gt;&amp; expected = std::set&lt;Membership&gt;());</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// Returns the current ZooKeeper session associated with this group,</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// or none if no session currently exists.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="classprocess_1_1Future.html">process::Future&lt;Option&lt;int64_t&gt;</a>&gt; <a class="code" href="classzookeeper_1_1Group.html#a96c941920dc8cd4948d24f14453a3f0e">session</a>();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// Made public for testing purposes.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classzookeeper_1_1Group.html#a140a7fc9a09f4c07b6f30163b70e3651">  165</a></span>&#160;  <a class="code" href="classzookeeper_1_1GroupProcess.html">GroupProcess</a>* <a class="code" href="classzookeeper_1_1Group.html#a140a7fc9a09f4c07b6f30163b70e3651">process</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;};</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classzookeeper_1_1GroupProcess.html">  169</a></span>&#160;<span class="keyword">class </span><a class="code" href="classzookeeper_1_1GroupProcess.html">GroupProcess</a> : <span class="keyword">public</span> <a class="code" href="classprocess_1_1Process.html">process::Process</a>&lt;GroupProcess&gt;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="classzookeeper_1_1GroupProcess.html#acecaf6cd579a8462517a0986d7de75b7">GroupProcess</a>(<span class="keyword">const</span> std::string&amp; servers,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;               <span class="keyword">const</span> <a class="code" href="classDuration.html">Duration</a>&amp; sessionTimeout,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;               <span class="keyword">const</span> std::string&amp; znode,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;               <span class="keyword">const</span> <a class="code" href="classOption.html">Option&lt;Authentication&gt;</a>&amp; auth);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="classzookeeper_1_1GroupProcess.html#acecaf6cd579a8462517a0986d7de75b7">GroupProcess</a>(<span class="keyword">const</span> <a class="code" href="classzookeeper_1_1URL.html">URL</a>&amp; url,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;               <span class="keyword">const</span> <a class="code" href="classDuration.html">Duration</a>&amp; sessionTimeout);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classzookeeper_1_1GroupProcess.html#a9dd7c10a27dcec2fe9cd832d098d9ee7">~GroupProcess</a>();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classzookeeper_1_1GroupProcess.html#a2bd94b2043dc0f484858eae235333439">initialize</a>();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="classzookeeper_1_1GroupProcess.html#a883cc6ba0676d8b20c84e84cc0c311a2">  184</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classDuration.html">Duration</a> <a class="code" href="classzookeeper_1_1GroupProcess.html#a883cc6ba0676d8b20c84e84cc0c311a2">RETRY_INTERVAL</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">// Helper function that returns the basename of the znode of</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// the membership.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keyword">static</span> std::string <a class="code" href="classzookeeper_1_1GroupProcess.html#a97f5d85e60b00ab36bf867b0e8c780ee">zkBasename</a>(<span class="keyword">const</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Group::Membership</a>&amp; membership);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// Group implementation.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <a class="code" href="classprocess_1_1Future.html">process::Future&lt;Group::Membership&gt;</a> <a class="code" href="classzookeeper_1_1GroupProcess.html#a0880e88e0b0de57dc96764a03e23582b">join</a>(</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="keyword">const</span> std::string&amp; data,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keyword">const</span> <a class="code" href="classOption.html">Option&lt;std::string&gt;</a>&amp; label);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <a class="code" href="classprocess_1_1Future.html">process::Future&lt;bool&gt;</a> <a class="code" href="classzookeeper_1_1GroupProcess.html#ad79443755698154b2f24cec2fb337acd">cancel</a>(<span class="keyword">const</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Group::Membership</a>&amp; membership);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="classprocess_1_1Future.html">process::Future&lt;Option&lt;std::string&gt;</a>&gt; <a class="code" href="classzookeeper_1_1GroupProcess.html#aa801b83b41f034557fa5663225b32e1e">data</a>(</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keyword">const</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Group::Membership</a>&amp; membership);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="classprocess_1_1Future.html">process::Future&lt;std::set&lt;Group::Membership&gt;</a>&gt; <a class="code" href="classzookeeper_1_1GroupProcess.html#aa5d168cb4339237c6cbcf5c82073c279">watch</a>(</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keyword">const</span> std::set&lt;Group::Membership&gt;&amp; expected);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="classprocess_1_1Future.html">process::Future&lt;Option&lt;int64_t&gt;</a>&gt; <a class="code" href="classzookeeper_1_1GroupProcess.html#a7a9859c1e13815a5af5ef0aebc6b4d6e">session</a>();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="comment">// ZooKeeper events.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// Note that events from previous sessions are dropped.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classzookeeper_1_1GroupProcess.html#a1bd37c6a064fdfb2b88a54c263a73a52">connected</a>(int64_t sessionId, <span class="keywordtype">bool</span> reconnect);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classzookeeper_1_1GroupProcess.html#a36793e02f381973b31f8640b8670d8a3">reconnecting</a>(int64_t sessionId);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classzookeeper_1_1GroupProcess.html#a311b6cb10b542349190161404cc3b830">expired</a>(int64_t sessionId);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classzookeeper_1_1GroupProcess.html#ad925881d158d8d396b71f82aa86b9f48">updated</a>(int64_t sessionId, <span class="keyword">const</span> std::string&amp; path);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classzookeeper_1_1GroupProcess.html#abcf52edeb55fb57bb95b9ea6c1508190">created</a>(int64_t sessionId, <span class="keyword">const</span> std::string&amp; path);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classzookeeper_1_1GroupProcess.html#a852610011d5241bc1dfb48332a4846d5">deleted</a>(int64_t sessionId, <span class="keyword">const</span> std::string&amp; path);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordtype">void</span> startConnection();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="classResult.html">Result&lt;Group::Membership&gt;</a> doJoin(</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keyword">const</span> std::string&amp; data,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keyword">const</span> <a class="code" href="classOption.html">Option&lt;std::string&gt;</a>&amp; label);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <a class="code" href="classResult.html">Result&lt;bool&gt;</a> doCancel(<span class="keyword">const</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Group::Membership</a>&amp; membership);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="classResult.html">Result&lt;Option&lt;std::string&gt;</a>&gt; doData(<span class="keyword">const</span> <a class="code" href="structzookeeper_1_1Group_1_1Membership.html">Group::Membership</a>&amp; membership);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// Returns true if authentication is successful, false if the</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// failure is retryable and Error otherwise.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="classTry.html">Try&lt;bool&gt;</a> authenticate();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// Creates the group (which means creating its base path) on ZK.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// Returns true if successful, false if the failure is retryable</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// and Error otherwise.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="classTry.html">Try&lt;bool&gt;</a> create();</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// Attempts to cache the current set of memberships.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">// Returns true if successful, false if the failure is retryable</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// and Error otherwise.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <a class="code" href="classTry.html">Try&lt;bool&gt;</a> cache();</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// Synchronizes pending operations with ZooKeeper and also attempts</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// to cache the current set of memberships if necessary.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">// Returns true if successful, false if the failure is retryable</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// and Error otherwise.</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <a class="code" href="classTry.html">Try&lt;bool&gt;</a> sync();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">// Updates any pending watches.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordtype">void</span> update();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// Generic retry method. This mechanism is &quot;generic&quot; in the sense</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// that it is not specific to any particular operation, but rather</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">// attempts to perform all pending operations (including caching</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// memberships if necessary).</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordtype">void</span> retry(<span class="keyword">const</span> <a class="code" href="classDuration.html">Duration</a>&amp; duration);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordtype">void</span> timedout(int64_t sessionId);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// Aborts the group instance and fails all pending operations.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// The group then enters an error state and all subsequent</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">// operations will fail as well.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordtype">void</span> abort(<span class="keyword">const</span> std::string&amp; <a class="code" href="classprocess_1_1ProcessBase.html#a025e342d8f2be6c42fe34031edda54a3">message</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// Potential non-retryable error set by abort().</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="classOption.html">Option&lt;Error&gt;</a> error;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keyword">const</span> std::string servers;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// The session timeout requested by the client.</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keyword">const</span> <a class="code" href="classDuration.html">Duration</a> sessionTimeout;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keyword">const</span> std::string znode;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <a class="code" href="classOption.html">Option&lt;Authentication&gt;</a> auth; <span class="comment">// ZooKeeper authentication.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keyword">const</span> ACL_vector acl; <span class="comment">// Default ACL to use.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="classWatcher.html">Watcher</a>* watcher;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <a class="code" href="classZooKeeper.html">ZooKeeper</a>* zk;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// Group connection state.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">// Normal state transitions:</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">//   DISCONNECTED -&gt; CONNECTING -&gt; CONNECTED -&gt; AUTHENTICATED</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">//   -&gt; READY.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="comment">// Reconnection does not change the current state and the state is</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">// only reset to DISCONNECTED after session expiration. Therefore</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// the client&#39;s &quot;progress&quot; in setting up the group is preserved</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// across reconnections. This means authenticate() and create() are</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// only successfully executed once in one ZooKeeper session.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keyword">enum</span> State</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    DISCONNECTED,  <span class="comment">// The initial state.</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    CONNECTING,    <span class="comment">// ZooKeeper connecting.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    CONNECTED,     <span class="comment">// ZooKeeper connected but before group setup.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    AUTHENTICATED, <span class="comment">// ZooKeeper connected and authenticated.</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    READY,         <span class="comment">// ZooKeeper connected, session authenticated and</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                   <span class="comment">// base path for the group created.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  } state;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keyword">struct </span>Join</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    Join(<span class="keyword">const</span> std::string&amp; _data, <span class="keyword">const</span> <a class="code" href="classOption.html">Option&lt;std::string&gt;</a>&amp; _label)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      : data(_data), label(_label) {}</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    std::string <a class="code" href="classzookeeper_1_1GroupProcess.html#aa801b83b41f034557fa5663225b32e1e">data</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keyword">const</span> <a class="code" href="classOption.html">Option&lt;std::string&gt;</a> label;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="classprocess_1_1Promise.html">process::Promise&lt;Group::Membership&gt;</a> <a class="code" href="namespacemesos_1_1internal_1_1log_1_1protocol.html#a3b1f8bd7b18c51af9d1f58842950b545">promise</a>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  };</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keyword">struct </span>Cancel</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keyword">explicit</span> Cancel(<span class="keyword">const</span> Group::Membership&amp; _membership)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      : membership(_membership) {}</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    Group::Membership membership;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="classprocess_1_1Promise.html">process::Promise&lt;bool&gt;</a> <a class="code" href="namespacemesos_1_1internal_1_1log_1_1protocol.html#a3b1f8bd7b18c51af9d1f58842950b545">promise</a>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  };</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keyword">struct </span>Data</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keyword">explicit</span> Data(<span class="keyword">const</span> Group::Membership&amp; _membership)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      : membership(_membership) {}</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    Group::Membership membership;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="classprocess_1_1Promise.html">process::Promise&lt;Option&lt;std::string&gt;</a>&gt; <a class="code" href="namespacemesos_1_1internal_1_1log_1_1protocol.html#a3b1f8bd7b18c51af9d1f58842950b545">promise</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  };</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keyword">struct </span>Watch</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keyword">explicit</span> Watch(<span class="keyword">const</span> std::set&lt;Group::Membership&gt;&amp; _expected)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      : expected(_expected) {}</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    std::set&lt;Group::Membership&gt; expected;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="classprocess_1_1Promise.html">process::Promise&lt;std::set&lt;Group::Membership&gt;</a>&gt; <a class="code" href="namespacemesos_1_1internal_1_1log_1_1protocol.html#a3b1f8bd7b18c51af9d1f58842950b545">promise</a>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  };</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classzookeeper_1_1GroupProcess.html#a4f6279d3aba95fdfa20fccf4cf7a7a4c">  325</a></span>&#160;    std::queue&lt;Join*&gt; <a class="code" href="classzookeeper_1_1GroupProcess.html#a4f6279d3aba95fdfa20fccf4cf7a7a4c">joins</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="classzookeeper_1_1GroupProcess.html#ac282b07cba038bb901edad2f9fc0f5fe">  326</a></span>&#160;    std::queue&lt;Cancel*&gt; <a class="code" href="classzookeeper_1_1GroupProcess.html#ac282b07cba038bb901edad2f9fc0f5fe">cancels</a>;</div>
<div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="classzookeeper_1_1GroupProcess.html#ab5d1fe70a30d41fc35d614aadf456eba">  327</a></span>&#160;    std::queue&lt;Data*&gt; <a class="code" href="classzookeeper_1_1GroupProcess.html#ab5d1fe70a30d41fc35d614aadf456eba">datas</a>;</div>
<div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="classzookeeper_1_1GroupProcess.html#a9cee3875623f815dc6d46f8c3fb55f81">  328</a></span>&#160;    std::queue&lt;Watch*&gt; <a class="code" href="classzookeeper_1_1GroupProcess.html#a9cee3875623f815dc6d46f8c3fb55f81">watches</a>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  } pending;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// Indicates there is a pending delayed retry.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordtype">bool</span> retrying;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="comment">// Expected ZooKeeper sequence numbers (either owned/created by this</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">// group instance or not) and the promise we associate with their</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// &quot;cancellation&quot; (i.e., no longer part of the group).</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  std::map&lt;int32_t, process::Promise&lt;bool&gt;*&gt; owned;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  std::map&lt;int32_t, process::Promise&lt;bool&gt;*&gt; unowned;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">// Cache of owned + unowned, where &#39;None&#39; represents an invalid</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">// cache and &#39;Some&#39; represents a valid cache.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <a class="code" href="classOption.html">Option&lt;std::set&lt;Group::Membership&gt;</a>&gt; memberships;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="comment">// A timer that controls when we should give up on waiting for the</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">// current connection attempt to succeed and try to reconnect.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="classOption.html">Option&lt;process::Timer&gt;</a> connectTimer;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;};</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;} <span class="comment">// namespace zookeeper {</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="preprocessor">#endif // __MESOS_ZOOKEEPER_GROUP_HPP__</span></div>
<div class="ttc" id="classZooKeeper_html"><div class="ttname"><a href="classZooKeeper.html">ZooKeeper</a></div><div class="ttdef"><b>Definition:</b> zookeeper.hpp:115</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_a852610011d5241bc1dfb48332a4846d5"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#a852610011d5241bc1dfb48332a4846d5">zookeeper::GroupProcess::deleted</a></div><div class="ttdeci">void deleted(int64_t sessionId, const std::string &amp;path)</div></div>
<div class="ttc" id="classOption_html"><div class="ttname"><a href="classOption.html">Option&lt; std::string &gt;</a></div></div>
<div class="ttc" id="structzookeeper_1_1Group_1_1Membership_html_a50e932465a1c4e2c9d2723cb0ac72b6c"><div class="ttname"><a href="structzookeeper_1_1Group_1_1Membership.html#a50e932465a1c4e2c9d2723cb0ac72b6c">zookeeper::Group::Membership::operator==</a></div><div class="ttdeci">bool operator==(const Membership &amp;that) const </div><div class="ttdef"><b>Definition:</b> group.hpp:59</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_a0880e88e0b0de57dc96764a03e23582b"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#a0880e88e0b0de57dc96764a03e23582b">zookeeper::GroupProcess::join</a></div><div class="ttdeci">process::Future&lt; Group::Membership &gt; join(const std::string &amp;data, const Option&lt; std::string &gt; &amp;label)</div></div>
<div class="ttc" id="structzookeeper_1_1Group_1_1Membership_html_af9b5e602262ba15e8f319d66f81b0d8b"><div class="ttname"><a href="structzookeeper_1_1Group_1_1Membership.html#af9b5e602262ba15e8f319d66f81b0d8b">zookeeper::Group::Membership::label</a></div><div class="ttdeci">Option&lt; std::string &gt; label() const </div><div class="ttdef"><b>Definition:</b> group.hpp:94</div></div>
<div class="ttc" id="classzookeeper_1_1Group_html_a58b554313e9e068a6260dc1ee8b76812"><div class="ttname"><a href="classzookeeper_1_1Group.html#a58b554313e9e068a6260dc1ee8b76812">zookeeper::Group::data</a></div><div class="ttdeci">process::Future&lt; Option&lt; std::string &gt; &gt; data(const Membership &amp;membership)</div></div>
<div class="ttc" id="classTry_html"><div class="ttname"><a href="classTry.html">Try</a></div><div class="ttdef"><b>Definition:</b> try.hpp:34</div></div>
<div class="ttc" id="classzookeeper_1_1Group_html_a96c941920dc8cd4948d24f14453a3f0e"><div class="ttname"><a href="classzookeeper_1_1Group.html#a96c941920dc8cd4948d24f14453a3f0e">zookeeper::Group::session</a></div><div class="ttdeci">process::Future&lt; Option&lt; int64_t &gt; &gt; session()</div></div>
<div class="ttc" id="none_8hpp_html"><div class="ttname"><a href="none_8hpp.html">none.hpp</a></div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_a2bd94b2043dc0f484858eae235333439"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#a2bd94b2043dc0f484858eae235333439">zookeeper::GroupProcess::initialize</a></div><div class="ttdeci">virtual void initialize()</div><div class="ttdoc">Invoked when a process gets spawned. </div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_a311b6cb10b542349190161404cc3b830"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#a311b6cb10b542349190161404cc3b830">zookeeper::GroupProcess::expired</a></div><div class="ttdeci">void expired(int64_t sessionId)</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_a883cc6ba0676d8b20c84e84cc0c311a2"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#a883cc6ba0676d8b20c84e84cc0c311a2">zookeeper::GroupProcess::RETRY_INTERVAL</a></div><div class="ttdeci">static const Duration RETRY_INTERVAL</div><div class="ttdef"><b>Definition:</b> group.hpp:184</div></div>
<div class="ttc" id="classDuration_html"><div class="ttname"><a href="classDuration.html">Duration</a></div><div class="ttdef"><b>Definition:</b> duration.hpp:32</div></div>
<div class="ttc" id="classResult_html"><div class="ttname"><a href="classResult.html">Result</a></div><div class="ttdef"><b>Definition:</b> result.hpp:40</div></div>
<div class="ttc" id="stout_2include_2stout_2check_8hpp_html"><div class="ttname"><a href="stout_2include_2stout_2check_8hpp.html">check.hpp</a></div></div>
<div class="ttc" id="classzookeeper_1_1Group_html_a9c43b1e1dbd2a41f25ed5e14bd327135"><div class="ttname"><a href="classzookeeper_1_1Group.html#a9c43b1e1dbd2a41f25ed5e14bd327135">zookeeper::Group::Group</a></div><div class="ttdeci">Group(const std::string &amp;servers, const Duration &amp;sessionTimeout, const std::string &amp;znode, const Option&lt; Authentication &gt; &amp;auth=None())</div></div>
<div class="ttc" id="structzookeeper_1_1Group_1_1Membership_html_a1c1e801f64026809b38e714fc7b45cd4"><div class="ttname"><a href="structzookeeper_1_1Group_1_1Membership.html#a1c1e801f64026809b38e714fc7b45cd4">zookeeper::Group::Membership::id</a></div><div class="ttdeci">int32_t id() const </div><div class="ttdef"><b>Definition:</b> group.hpp:89</div></div>
<div class="ttc" id="classWatcher_html"><div class="ttname"><a href="classWatcher.html">Watcher</a></div><div class="ttdoc">This interface specifies the public interface an event handler class must implement. </div><div class="ttdef"><b>Definition:</b> zookeeper.hpp:59</div></div>
<div class="ttc" id="duration_8hpp_html"><div class="ttname"><a href="duration_8hpp.html">duration.hpp</a></div></div>
<div class="ttc" id="structzookeeper_1_1Group_1_1Membership_html_a97155fd8cbcac980f1aae3124eb6c01a"><div class="ttname"><a href="structzookeeper_1_1Group_1_1Membership.html#a97155fd8cbcac980f1aae3124eb6c01a">zookeeper::Group::Membership::cancelled</a></div><div class="ttdeci">process::Future&lt; bool &gt; cancelled() const </div><div class="ttdef"><b>Definition:</b> group.hpp:105</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_a97f5d85e60b00ab36bf867b0e8c780ee"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#a97f5d85e60b00ab36bf867b0e8c780ee">zookeeper::GroupProcess::zkBasename</a></div><div class="ttdeci">static std::string zkBasename(const Group::Membership &amp;membership)</div></div>
<div class="ttc" id="zookeeper_2authentication_8hpp_html"><div class="ttname"><a href="zookeeper_2authentication_8hpp.html">authentication.hpp</a></div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_a7a9859c1e13815a5af5ef0aebc6b4d6e"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#a7a9859c1e13815a5af5ef0aebc6b4d6e">zookeeper::GroupProcess::session</a></div><div class="ttdeci">process::Future&lt; Option&lt; int64_t &gt; &gt; session()</div></div>
<div class="ttc" id="classprocess_1_1Promise_html"><div class="ttname"><a href="classprocess_1_1Promise.html">process::Promise</a></div><div class="ttdef"><b>Definition:</b> future.hpp:72</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_aa801b83b41f034557fa5663225b32e1e"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#aa801b83b41f034557fa5663225b32e1e">zookeeper::GroupProcess::data</a></div><div class="ttdeci">process::Future&lt; Option&lt; std::string &gt; &gt; data(const Group::Membership &amp;membership)</div></div>
<div class="ttc" id="url_8hpp_html"><div class="ttname"><a href="url_8hpp.html">url.hpp</a></div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_a4f6279d3aba95fdfa20fccf4cf7a7a4c"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#a4f6279d3aba95fdfa20fccf4cf7a7a4c">zookeeper::GroupProcess::joins</a></div><div class="ttdeci">std::queue&lt; Join * &gt; joins</div><div class="ttdef"><b>Definition:</b> group.hpp:325</div></div>
<div class="ttc" id="namespacemesos_1_1internal_1_1log_1_1protocol_html_a3b1f8bd7b18c51af9d1f58842950b545"><div class="ttname"><a href="namespacemesos_1_1internal_1_1log_1_1protocol.html#a3b1f8bd7b18c51af9d1f58842950b545">mesos::internal::log::protocol::promise</a></div><div class="ttdeci">Protocol&lt; PromiseRequest, PromiseResponse &gt; promise</div></div>
<div class="ttc" id="structzookeeper_1_1Group_1_1Membership_html_a0ff067f816f906e16e1d30db4919bdbc"><div class="ttname"><a href="structzookeeper_1_1Group_1_1Membership.html#a0ff067f816f906e16e1d30db4919bdbc">zookeeper::Group::Membership::operator!=</a></div><div class="ttdeci">bool operator!=(const Membership &amp;that) const </div><div class="ttdef"><b>Definition:</b> group.hpp:64</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_ad79443755698154b2f24cec2fb337acd"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#ad79443755698154b2f24cec2fb337acd">zookeeper::GroupProcess::cancel</a></div><div class="ttdeci">process::Future&lt; bool &gt; cancel(const Group::Membership &amp;membership)</div></div>
<div class="ttc" id="option_8hpp_html"><div class="ttname"><a href="option_8hpp.html">option.hpp</a></div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_a1bd37c6a064fdfb2b88a54c263a73a52"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#a1bd37c6a064fdfb2b88a54c263a73a52">zookeeper::GroupProcess::connected</a></div><div class="ttdeci">void connected(int64_t sessionId, bool reconnect)</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_acecaf6cd579a8462517a0986d7de75b7"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#acecaf6cd579a8462517a0986d7de75b7">zookeeper::GroupProcess::GroupProcess</a></div><div class="ttdeci">GroupProcess(const std::string &amp;servers, const Duration &amp;sessionTimeout, const std::string &amp;znode, const Option&lt; Authentication &gt; &amp;auth)</div></div>
<div class="ttc" id="classzookeeper_1_1Group_html_ad3cb007d4a106239aa16691b056f7a93"><div class="ttname"><a href="classzookeeper_1_1Group.html#ad3cb007d4a106239aa16691b056f7a93">zookeeper::Group::watch</a></div><div class="ttdeci">process::Future&lt; std::set&lt; Membership &gt; &gt; watch(const std::set&lt; Membership &gt; &amp;expected=std::set&lt; Membership &gt;())</div></div>
<div class="ttc" id="structzookeeper_1_1Group_1_1Membership_html_ace337def95a18a79233725fe776197a4"><div class="ttname"><a href="structzookeeper_1_1Group_1_1Membership.html#ace337def95a18a79233725fe776197a4">zookeeper::Group::Membership::operator&lt;=</a></div><div class="ttdeci">bool operator&lt;=(const Membership &amp;that) const </div><div class="ttdef"><b>Definition:</b> group.hpp:74</div></div>
<div class="ttc" id="future_8hpp_html"><div class="ttname"><a href="future_8hpp.html">future.hpp</a></div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_abcf52edeb55fb57bb95b9ea6c1508190"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#abcf52edeb55fb57bb95b9ea6c1508190">zookeeper::GroupProcess::created</a></div><div class="ttdeci">void created(int64_t sessionId, const std::string &amp;path)</div></div>
<div class="ttc" id="structzookeeper_1_1Group_1_1Membership_html_aeec550d499633821dc549800458eb6d8"><div class="ttname"><a href="structzookeeper_1_1Group_1_1Membership.html#aeec550d499633821dc549800458eb6d8">zookeeper::Group::Membership::operator&lt;</a></div><div class="ttdeci">bool operator&lt;(const Membership &amp;that) const </div><div class="ttdef"><b>Definition:</b> group.hpp:69</div></div>
<div class="ttc" id="classzookeeper_1_1Group_html_a056d4a08bebe4bb4c9cbdf3970b7cbdf"><div class="ttname"><a href="classzookeeper_1_1Group.html#a056d4a08bebe4bb4c9cbdf3970b7cbdf">zookeeper::Group::join</a></div><div class="ttdeci">process::Future&lt; Membership &gt; join(const std::string &amp;data, const Option&lt; std::string &gt; &amp;label=None())</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_a9cee3875623f815dc6d46f8c3fb55f81"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#a9cee3875623f815dc6d46f8c3fb55f81">zookeeper::GroupProcess::watches</a></div><div class="ttdeci">std::queue&lt; Watch * &gt; watches</div><div class="ttdef"><b>Definition:</b> group.hpp:328</div></div>
<div class="ttc" id="structNone_html"><div class="ttname"><a href="structNone.html">None</a></div><div class="ttdef"><b>Definition:</b> none.hpp:27</div></div>
<div class="ttc" id="timer_8hpp_html"><div class="ttname"><a href="timer_8hpp.html">timer.hpp</a></div></div>
<div class="ttc" id="classzookeeper_1_1Group_html"><div class="ttname"><a href="classzookeeper_1_1Group.html">zookeeper::Group</a></div><div class="ttdef"><b>Definition:</b> group.hpp:49</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_a36793e02f381973b31f8640b8670d8a3"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#a36793e02f381973b31f8640b8670d8a3">zookeeper::GroupProcess::reconnecting</a></div><div class="ttdeci">void reconnecting(int64_t sessionId)</div></div>
<div class="ttc" id="structzookeeper_1_1Group_1_1Membership_html_a1ce418ac66b66440664e66b8448cd9c7"><div class="ttname"><a href="structzookeeper_1_1Group_1_1Membership.html#a1ce418ac66b66440664e66b8448cd9c7">zookeeper::Group::Membership::operator&gt;=</a></div><div class="ttdeci">bool operator&gt;=(const Membership &amp;that) const </div><div class="ttdef"><b>Definition:</b> group.hpp:84</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_aa5d168cb4339237c6cbcf5c82073c279"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#aa5d168cb4339237c6cbcf5c82073c279">zookeeper::GroupProcess::watch</a></div><div class="ttdeci">process::Future&lt; std::set&lt; Group::Membership &gt; &gt; watch(const std::set&lt; Group::Membership &gt; &amp;expected)</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_ab5d1fe70a30d41fc35d614aadf456eba"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#ab5d1fe70a30d41fc35d614aadf456eba">zookeeper::GroupProcess::datas</a></div><div class="ttdeci">std::queue&lt; Data * &gt; datas</div><div class="ttdef"><b>Definition:</b> group.hpp:327</div></div>
<div class="ttc" id="classzookeeper_1_1Group_html_a1687108d5d27dda12627018f7d6356bd"><div class="ttname"><a href="classzookeeper_1_1Group.html#a1687108d5d27dda12627018f7d6356bd">zookeeper::Group::cancel</a></div><div class="ttdeci">process::Future&lt; bool &gt; cancel(const Membership &amp;membership)</div></div>
<div class="ttc" id="try_8hpp_html"><div class="ttname"><a href="try_8hpp.html">try.hpp</a></div></div>
<div class="ttc" id="classzookeeper_1_1URL_html"><div class="ttname"><a href="classzookeeper_1_1URL.html">zookeeper::URL</a></div><div class="ttdef"><b>Definition:</b> url.hpp:46</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_a9dd7c10a27dcec2fe9cd832d098d9ee7"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#a9dd7c10a27dcec2fe9cd832d098d9ee7">zookeeper::GroupProcess::~GroupProcess</a></div><div class="ttdeci">virtual ~GroupProcess()</div></div>
<div class="ttc" id="structzookeeper_1_1Group_1_1Membership_html_aeedb1ae964ce69d27ccc9cbf2519b7c1"><div class="ttname"><a href="structzookeeper_1_1Group_1_1Membership.html#aeedb1ae964ce69d27ccc9cbf2519b7c1">zookeeper::Group::Membership::operator&gt;</a></div><div class="ttdeci">bool operator&gt;(const Membership &amp;that) const </div><div class="ttdef"><b>Definition:</b> group.hpp:79</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_ad925881d158d8d396b71f82aa86b9f48"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#ad925881d158d8d396b71f82aa86b9f48">zookeeper::GroupProcess::updated</a></div><div class="ttdeci">void updated(int64_t sessionId, const std::string &amp;path)</div></div>
<div class="ttc" id="classprocess_1_1Process_html"><div class="ttname"><a href="classprocess_1_1Process.html">process::Process</a></div><div class="ttdef"><b>Definition:</b> process.hpp:490</div></div>
<div class="ttc" id="classzookeeper_1_1Group_html_a140a7fc9a09f4c07b6f30163b70e3651"><div class="ttname"><a href="classzookeeper_1_1Group.html#a140a7fc9a09f4c07b6f30163b70e3651">zookeeper::Group::process</a></div><div class="ttdeci">GroupProcess * process</div><div class="ttdef"><b>Definition:</b> group.hpp:165</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html_ac282b07cba038bb901edad2f9fc0f5fe"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html#ac282b07cba038bb901edad2f9fc0f5fe">zookeeper::GroupProcess::cancels</a></div><div class="ttdeci">std::queue&lt; Cancel * &gt; cancels</div><div class="ttdef"><b>Definition:</b> group.hpp:326</div></div>
<div class="ttc" id="classprocess_1_1ProcessBase_html_a025e342d8f2be6c42fe34031edda54a3"><div class="ttname"><a href="classprocess_1_1ProcessBase.html#a025e342d8f2be6c42fe34031edda54a3">process::ProcessBase::message</a></div><div class="ttdeci">std::map&lt; std::string, MessageHandler &gt; message</div><div class="ttdef"><b>Definition:</b> process.hpp:453</div></div>
<div class="ttc" id="libprocess_2include_2process_2process_8hpp_html"><div class="ttname"><a href="libprocess_2include_2process_2process_8hpp.html">process.hpp</a></div></div>
<div class="ttc" id="classzookeeper_1_1Group_html_aba2b2160871d4b7d9c2f9cfa6be0d642"><div class="ttname"><a href="classzookeeper_1_1Group.html#aba2b2160871d4b7d9c2f9cfa6be0d642">zookeeper::Group::~Group</a></div><div class="ttdeci">~Group()</div></div>
<div class="ttc" id="structzookeeper_1_1Group_1_1Membership_html"><div class="ttname"><a href="structzookeeper_1_1Group_1_1Membership.html">zookeeper::Group::Membership</a></div><div class="ttdef"><b>Definition:</b> group.hpp:57</div></div>
<div class="ttc" id="classzookeeper_1_1GroupProcess_html"><div class="ttname"><a href="classzookeeper_1_1GroupProcess.html">zookeeper::GroupProcess</a></div><div class="ttdef"><b>Definition:</b> group.hpp:169</div></div>
<div class="ttc" id="classprocess_1_1Future_html"><div class="ttname"><a href="classprocess_1_1Future.html">process::Future&lt; bool &gt;</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
